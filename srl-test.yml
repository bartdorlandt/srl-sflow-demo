# Based on https://blog.sflow.com/2021/04/containerlab.html

name: srl-test
topology:
  nodes:
    leaf1:
      kind: srl
      image: registry.srlinux.dev/pub/srlinux # latest, or srlinux:21.3.1-410
    leaf2:
      kind: srl
      image: registry.srlinux.dev/pub/srlinux
    spine1:
      kind: srl
      image: registry.srlinux.dev/pub/srlinux
    spine2:
      kind: srl
      image: registry.srlinux.dev/pub/srlinux
    h1:
      kind: linux
      image: alpine:latest # or frrouting/frr:latest
    h2:
      kind: linux
      image: alpine:latest
    sflow-collector: # Added
      kind: linux
      image: sflow/prometheus
  links: 
    - endpoints: ["leaf1:eth1","spine1:eth1"]
    - endpoints: ["leaf1:eth2","spine2:eth1"]
    - endpoints: ["leaf2:eth1","spine1:eth2"]
    - endpoints: ["leaf2:eth2","spine2:eth2"]
    - endpoints: ["h1:eth1","leaf1:eth3"]
    - endpoints: ["h2:eth1","leaf2:eth3"]
